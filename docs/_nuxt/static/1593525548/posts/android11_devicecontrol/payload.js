__NUXT_JSONP__("/posts/android11_devicecontrol", {data:[{title:"Android 11 ã®ãƒ‡ãƒã‚¤ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«APIã‚’è©¦ã™",created_at:"2020-06-11T00:00:00.000Z",tags:["Android","Android11","Kotlin","Android R"],bodyContent:"Android 11 Beta ããŸããŠãŠãŠãŠãŠãŠãŠãŠãŠ   \r\nğŸ¥³â†ã“ã‚Œã™ã\r\n\r\n# è¿½è¨˜ï¼š2020\u002F06\u002F13\r\nGoogle PayãŒä½¿ãˆãªã„ã¨è¨€ã„ã¾ã—ãŸã€‚ãŒã€Suicaã§é›»è»Šã«ä¹—ã‚ŒãŸã®ã§å¤šåˆ†**ãŠï½»ï½²ï¾Œï½¹ï½°ï¾€ï½²**ã‚¢ãƒ—ãƒªã§ã¯å¯¾å¿œã—ã¦ã„ãªã„**NFC Pay**ã‚ãŸã‚ŠãŒä½¿ãˆãªã„ã‚“ã ã¨æ€ã„ã¾ã™ã€‚  \r\nFelicaä½¿ã†ç³»ã¯å¤šåˆ†è¡Œã‘ã‚‹ã‚“ã˜ã‚ƒãªã„ã§ã™ã‹ã­ï¼Ÿ\r\n\r\nã‚ã¨ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼(RangeTemplate)å‹•ã„ãŸã®ã§ãã‚Œã‚‚\r\n\r\n# æœ¬é¡Œ\r\nAndroid 11 Beta 1 æ¥ã¾ã—ãŸã€‚  \r\nã‚ãŸã—çš„ã«æ¥½ã—ã¿ã«ã—ã¦ã‚‹æ©Ÿèƒ½ã¯\r\n- Device Control API (æ­£å¼åç§°ã—ã‚‰ã‚“)\r\n    - è¨¼æ˜ã®ON\u002FOFFã¨ã‹æ˜ã‚‹ã•ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãªã©\r\n    - Quick Settings ã®ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ç‰ˆ\r\n    - **ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãªã‚“ã¦é‡‘ã‹ã‹ã‚‹ã‹ã‚‰ã‚„ã‚‰ãªã„ã¨æ€ã†ï¼ˆã‚ˆã£ã¦ä½¿ã‚ãªã„ï¼‰**\r\n- Dynamic Intent Filter\r\n- Wi-FiçµŒç”±ã®ADB\r\n    - ã‚«ã‚¹ROMã«ã¯å‰ã‹ã‚‰ã‚ã‚‹ã£ã¦ï¼Ÿ\r\n    - å…¬å¼ã§å¯¾å¿œãªã‚“ã§ã™ã‚ˆï¼ï¼ï¼\r\n- Bubble\r\n    - **ä»–ã®ã‚¢ãƒ—ãƒªã«é‡ã­ã¦è¡¨ç¤º**ãŒå¹´ã€…å³ã—ããªã£ã¦ã‚‹ã®ã§ï¼ˆæœ€è¿‘ã€è¨­å®šã‚¢ãƒ—ãƒªã®ä¸Šã«è¡¨ç¤ºã§ããªããªã£ãŸï¼‰ä»£æ›¿ã€‚\r\n    - ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å†ç”Ÿã®ä»£æ›¿ã«ã¯ãªã‚‰ãªãã†ã€‚ã‚ãã¾ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ—ãƒªå‘ã‘ãªã®ã‹ãªã€‚\r\n\r\n## Android 11 Betaå…¥ã‚Œã‚ˆã†ã¨ã—ã¦ã„ã‚‹å„ä½\r\nGoogle Pay ä½¿ãˆãªããªã‚‹ã‚‰ã—ã„ã‚ˆã€‚DP4ã®æ®µéšã§ã¯ä½¿ãˆãŸã‚“ã ã‘ã©ã¾ãŸä½¿ãˆãªããªã£ãŸã€‚  \r\n![Imgur](https:\u002F\u002Fimgur.com\u002Fr914HON.png)  \r\nSuicaä½¿ãˆã‚‹ã‚“ã‹ãªï¼Ÿ  \r\n\r\n# Device Control API ã‚’è©¦ã™\r\n**ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãªã‚“ã¦ã™ã‚‹äºˆå®šãªã‘ã©**ã›ã£ã‹ãBetaç‰ˆã®ç™»å ´ã¨ä¸€ç·’ã«APIãŒæ–‡æ›¸åŒ–ã•ã‚Œã¦ã‚‹ã®ã§è©¦ã—ã«è¿½åŠ ã—ã¦ã¿ã‚‹ã€‚\r\n\r\n[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https:\u002F\u002Fdeveloper.android.com\u002Fpreview\u002Ffeatures\u002Fdevice-control)\r\n\r\n# ç’°å¢ƒ\r\n|ãªã¾ãˆ|ã‚ãŸã„|\r\n|---|---|\r\n|è¨€èª|Kotlin|\r\n|Android|11 Beta 1|\r\n|ç«¯æœ«|Pixel 3 XL|\r\n\r\n## Android R Betaã®ç’°å¢ƒã‚’æƒãˆã¾ã™ã€‚\r\nSDK Manageré–‹ã„ã¦ã€SDK Platformsã‚¿ãƒ–ã‚’æŠ¼ã—ã¦ã€**Android 10.0+(R)**ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦**Apply**æŠ¼ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ã‚‡ã†ã€‚\r\n\r\n# build.gradle\r\n## ãƒãƒ¼ã‚¸ãƒ§ãƒ³\r\n```gradle\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"29.0.3\"\r\n\r\n    defaultConfig {\r\n        applicationId \"io.github.takusan23.devicecontrolstest\"\r\n        minSdkVersion 30\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n`compileSdkVersion 30`ã¨`targetSdkVersion 30`ã«ãªã£ã¦ã‚Œã°ã„ã„ã¨æ€ã„ã¾ã™ã€‚å¤šåˆ†\r\n\r\n## ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã„ã‚Œã‚‹\r\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒRxJavaå…¥ã‚Œã¦ã‚‹ã“ã¨ã‚’å‰æã«ã—ã¦ã„ã‚‹ã®ã§ç§ã‚‚å…¥ã‚Œã¾ã™ã€‚  \r\nRxJavaãªã‚“ã¦ä½¿ã£ãŸã“ã¨ãªã„ã‚“ã ã‘ã©ã­ã€‚\r\n```gradle\r\ndependencies {\r\n    implementation 'org.reactivestreams:reactive-streams:1.0.3'\r\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.0'\r\n}\r\n```\r\n\r\n# AndroidManifestæ›¸ã\r\nãŠã¾ã˜ãªã„ã§ã™ã€‚\r\n```xml\r\n\u003Cservice\r\n    android:name=\".DeviceControlsService\"\r\n    android:label=\"@string\u002Fapp_name\"\r\n    android:permission=\"android.permission.BIND_CONTROLS\"\u003E\r\n    \u003Cintent-filter\u003E\r\n        \u003Caction android:name=\"android.service.controls.ControlsProviderService\" \u002F\u003E\r\n    \u003C\u002Fintent-filter\u003E\r\n\u003C\u002Fservice\u003E\r\n```\r\n\r\n# DeviceControlsService ã£ã¦ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ\r\n`DeviceControlsService.kt`ã‚’ä½œæˆã—ã¾ã™ã€‚  \r\nä½œæˆã—ãŸã‚‰ã€`ControlsProviderService()`ã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚\r\n```kotlin\r\nclass DeviceControlsService : ControlsProviderService() {\r\n    override fun createPublisherForAllAvailable(): Flow.Publisher\u003CControl\u003E {\r\n\r\n    }\r\n\r\n    override fun performControlAction(p0: String, p1: ControlAction, p2: Consumer\u003CInt\u003E) {\r\n\r\n    }\r\n\r\n    override fun createPublisherFor(p0: MutableList\u003CString\u003E): Flow.Publisher\u003CControl\u003E {\r\n\r\n    }\r\n}\r\n```\r\n\r\nã§ã‚‚ã“ã®ã¾ã¾ã ã¨è¿”ã‚Šå€¤ãªã«ã‚‚ãªã„ã®ã§IDEãŒèµ¤ã„ãªã¿ãªã¿å‡ºã™ã®ã§ä»Šã‹ã‚‰æ›¸ã„ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\r\n\r\n## åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä¸€è¦§ã‚’ç”¨æ„ã™ã‚‹\r\nã“ã‚Œã‹ã‚‰è¿½åŠ å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚  \r\nã“ã“ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã¶ã‚ã‘ã§ã™ã­ã€‚  \r\n`createPublisherForAllAvailable()`ã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\r\n```kotlin\r\n\u002F\u002F è¿½åŠ ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®ID\r\nval TOGGLE_BUTTON_ID = \"toggle_button_id\"\r\n\u002F**\r\n * è¿½åŠ å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹ã€‚\r\n * *\u002F\r\noverride fun createPublisherForAllAvailable(): Flow.Publisher\u003CControl\u003E {\r\n    \u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹Activity\r\n    val intent = Intent(baseContext, MainActivity::class.java)\r\n    val pendingIntent =\r\n        PendingIntent.getActivity(baseContext, 10, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n    \u002F\u002F ã¾ã¨ã‚ã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã®ã§é…åˆ—ã«\r\n    val controlList = mutableListOf\u003CControl\u003E()\r\n    \u002F\u002F ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«ã€‚\r\n    val toggleControl = Control.StatelessBuilder(TOGGLE_BUTTON_ID, pendingIntent)\r\n        .setTitle(\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\") \u002F\u002F ãŸã„ã¨ã‚‹\r\n        .setSubtitle(\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\") \u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\r\n        .setDeviceType(DeviceTypes.TYPE_LIGHT) \u002F\u002F ã‚ã„ã“ã‚“ã¨ã„ã‚ã®è¨­å®šã€‚\r\n        .build()\r\n    \u002F\u002F é…åˆ—ã«è¿½åŠ \r\n    controlList.add(toggleControl)\r\n    \u002F\u002F Reactive Streamsã®çŸ¥è­˜ãŒå¿…è¦ãªæ¨¡æ§˜ã€‚ç§ã«ã¯ãªã„ã®ã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ”ãƒšã™ã‚‹ã€‚\r\n    return FlowAdapters.toFlowPublisher(Flowable.fromIterable(controlList))\r\n}\r\n```\r\n\r\nã‚³ãƒ¡ãƒ³ãƒˆæ–‡ã¯å„è‡ªæ¶ˆã—ã¦ã­ã€‚  \r\n### æ³¨æ„\r\nã“ã“ã§ä½¿ã†`Control`ã¯`Control.StatelessBuilder`ã®æ–¹ã§ã™ã€‚  \r\nã“ã‚Œã¯ã¾ã çŠ¶æ…‹ãŒï¼ˆã‚¹ã‚¤ãƒƒãƒãŒONã¨ã‹OFFã¨ã‹ã£ã¦è©±ï¼‰ãŒåˆ†ã‹ã‚‰ãªã„æ™‚ã«ä½¿ã†ã¨ã‹æ›¸ã„ã¦ã‚ã‚‹ã‘ã©å¤šåˆ†ã“ã®æ™‚ã«ä½¿ã„ã¾ã™ã€‚\r\n\r\n## ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹\r\n`åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä¸€è¦§ã‚’ç”¨æ„ã™ã‚‹`ã§é¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ“ä½œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\r\n\r\n```kotlin\r\nlateinit var updatePublisher: ReplayProcessor\u003CControl\u003E\r\n\u002F**\r\n * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹\r\n * é›»æºãƒœã‚¿ãƒ³é•·æŠ¼ã—ã§ã‚ˆã°ã‚Œã‚‹\r\n * *\u002F\r\noverride fun createPublisherFor(p0: MutableList\u003CString\u003E): Flow.Publisher\u003CControl\u003E {\r\n    \u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸã¨ãã«è¡¨ç¤ºã™ã‚‹Activity\r\n    val intent = Intent(baseContext, MainActivity::class.java)\r\n    val pendingIntent =\r\n        PendingIntent.getActivity(baseContext, 12, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n    \u002F\u002F çŸ¥è­˜ä¸è¶³ã§ã‚ã‹ã‚‰ã‚“\r\n    updatePublisher = ReplayProcessor.create()\r\n    \u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼\r\n    if(p0.contains(TOGGLE_BUTTON_ID)) {\r\n        \u002F\u002F ON\u002FOFF\r\n        val toggle = ToggleTemplate(\"toggle_template\", ControlButton(false, \"OFFã§ã™ã­ãˆï¼\"))\r\n        \u002F\u002F ã“ã“ã§ä½œã‚‹Controlã¯ StatefulBuilder ã‚’ä½¿ã†ã€‚\r\n        val control = Control.StatefulBuilder(TOGGLE_BUTTON_ID, pendingIntent)\r\n            .setTitle(\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\") \u002F\u002F ãŸã„ã¨ã‚‹\r\n            .setSubtitle(\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\") \u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\r\n            .setDeviceType(DeviceTypes.TYPE_LIGHT) \u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\r\n            .setStatus(Control.STATUS_OK) \u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\r\n            .setControlTemplate(toggle) \u002F\u002F ä»Šå›ã¯ON\u002FOFFãƒœã‚¿ãƒ³\r\n            .build()\r\n        updatePublisher.onNext(control)\r\n    }\r\n    return FlowAdapters.toFlowPublisher(updatePublisher)\r\n}\r\n```\r\n\r\nã“ã‚Œã§ã‚¨ãƒ©ãƒ¼ã¯ä¸€å¿œæ¶ˆãˆã‚‹ã®ã§ã€æ—©é€Ÿå®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\r\n\r\n# ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¿½åŠ \r\né›»æºãƒœã‚¿ãƒ³é•·æŠ¼ã—ã™ã‚‹ã¨ã€**ãƒ‡ãƒã‚¤ã‚¹ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«**ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æŠ¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚  \r\næŠ¼ã™ã¨ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä»Šä½œã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚  \r\nã™ã‚‹ã¨ã€ã•ã£ãä½œã£ãŸã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒç¾ã‚Œã‚‹ã®ã§ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ã€å³ä¸‹ã®ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã—ã‚‡ã†ã€‚  \r\n\r\n![Imgur](https:\u002F\u002Fimgur.com\u002Fr2Wyog1.png)\r\n\r\nã™ã‚‹ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚  \r\nã§ã™ãŒã“ã®æ®µéšã§ã¯æŠ¼ã—ã¦ã‚‚ãªã«ã‚‚å¤‰ã‚ã‚‰ãªã„ã®ã§ã“ã‚Œã‹ã‚‰æŠ¼ã—ãŸæ™‚ã«`ON\u002FOFF`ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹å‡¦ç†ã‚’æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\r\n\r\nã¡ãªã¿ã«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§Android 11å‹•ã‹ã™ã®ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé•·ã‹ã£ãŸã€‚\r\n\r\n# ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æŠ¼ã—ãŸã¨ãã®å‡¦ç†\r\næŠ¼ã—ãŸæ™‚ã«ON\u002FOFFã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\r\n```kotlin\r\n\u002F**\r\n * ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã\r\n * *\u002F\r\noverride fun performControlAction(p0: String, p1: ControlAction, p2: Consumer\u003CInt\u003E) {\r\n    \u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸã¨ãã«è¡¨ç¤ºã™ã‚‹Activity\r\n    val intent = Intent(baseContext, MainActivity::class.java)\r\n    val pendingIntent =\r\n        PendingIntent.getActivity(baseContext, 11, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n    \u002F\u002F ã‚·ã‚¹ãƒ†ãƒ ã«å‡¦ç†ä¸­ã¨ãŠã—ãˆã‚‹\r\n    p2.accept(ControlAction.RESPONSE_OK)\r\n    \u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼åˆ†å²\r\n    when (p0) {\r\n        TOGGLE_BUTTON_ID -\u003E {\r\n            \u002F\u002F ON\u002FOFFåˆ‡ã‚Šæ›¿ãˆ\r\n            \u002F\u002F ToggleTemplate ã¯ BooleanAction\r\n            if (p1 is BooleanAction) {\r\n                \u002F\u002F ONã‹ã©ã†ã‹\r\n                val isOn = p1.newState\r\n                val message = if (isOn) \"ONã§ã™\" else \"OFFã§ã™\"\r\n                val toggle = ToggleTemplate(\"toggle_template\", ControlButton(isOn, message))\r\n                \u002F\u002F Controlæ›´æ–°\r\n                val control = Control.StatefulBuilder(TOGGLE_BUTTON_ID, pendingIntent)\r\n                    .setTitle(\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\") \u002F\u002F ãŸã„ã¨ã‚‹\r\n                    .setSubtitle(\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\") \u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\r\n                    .setDeviceType(DeviceTypes.TYPE_LIGHT) \u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\r\n                    .setStatus(Control.STATUS_OK) \u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\r\n                    .setControlTemplate(toggle) \u002F\u002F ä»Šå›ã¯ON\u002FOFFãƒœã‚¿ãƒ³\r\n                    .setStatusText(message)\r\n                    .build()\r\n                updatePublisher.onNext(control)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nã“ã‚Œã§æŠ¼ã—ãŸæ™‚ã«ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚  \r\n`DeviceType#TYPE_LIGHT`è¦‹ãŸç›®ã„ã„æ„Ÿã˜ã€‚  \r\nã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ã‚„ã£ã¦ã¿ãŸã„ï¼ˆé‡‘ãªã„ã‘ã©ï¼‰\r\n\r\n![Imgur](https:\u002F\u002Fimgur.com\u002F2TNFYZz.png)\r\n\r\n# ãŠã‚ã‚Šã«\r\nã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚https:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlsTest\r\n\r\n~~ãã‚Œã¨**æœ¬å½“**ã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆå€¤ã‚’èª¿æ•´ã§ãã‚‹`RangeTemplate`ã¦ã‚„ã¤ï¼‰ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒã‚ã£ãŸã‚“ã§ã™ã‘ã©ã€ç§ã®ç’°å¢ƒã§ã¯ã†ã¾ãå‹•ãã¾ã›ã‚“ã§ã—ãŸã€‚Betaç‰ˆã ã‹ã‚‰ãªã®ã‹ãã‚‚ãã‚‚ç§ãŒé–“é•ã£ã¦ã‚‹ã®ã‹ï¼Ÿ~~\r\n\r\n**RangeTemplate**å‹•ãã¾ã—ãŸã€‚[å‚è€ƒã«ã—ã¾ã—ãŸ](https:\u002F\u002Fgist.github.com\u002FKieronQuinn\u002Fc9950f3ee09e11f305ce16e7f48f03b8)\r\n\r\n```kotlin\r\nval sliderControl = Control.StatefulBuilder(SLIDER_BUTTON_ID, pendingIntent)\r\n    .setTitle(\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒ«\") \u002F\u002F ãŸã„ã¨ã‚‹\r\n    .setSubtitle(\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã™ã€‚\") \u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\r\n    .setDeviceType(DeviceTypes.TYPE_LIGHT) \u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\r\n    .setControlId(SLIDER_BUTTON_ID)\r\n    .setStatus(Control.STATUS_OK) \u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\r\nsliderControl.setControlTemplate(\r\n    ToggleRangeTemplate(\r\n        \"slider_template\",\r\n        ControlButton(true, \"slider_button\"),\r\n        RangeTemplate(\"range\", 0f, 10f, 1f, 1f, null)\r\n    )\r\n)\r\nupdatePublisher.onNext(sliderControl.build())\r\n```\r\n\r\nperformControlAction()ã¯ã“ã†ã§ã™ã€‚\r\n\r\n```kotlin\r\n\u002F\u002F ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼\r\n\u002F\u002F RangeTemplate ã¯ FloatAction\r\nif (p1 is FloatAction) {\r\n    \u002F\u002F ç¾åœ¨ã®å€¤\r\n    val currentValue = p1.newValue\r\n    val sliderControl = Control.StatefulBuilder(SLIDER_BUTTON_ID, pendingIntent)\r\n        .setTitle(\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒ«\") \u002F\u002F ãŸã„ã¨ã‚‹\r\n        .setSubtitle(\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã™ã€‚\") \u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\r\n        .setDeviceType(DeviceTypes.TYPE_LIGHT) \u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\r\n        .setControlId(SLIDER_BUTTON_ID)\r\n        .setStatus(Control.STATUS_OK) \u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\r\n    val controlButton = ControlButton(true, \"slider_button\")\r\n    sliderControl.setControlTemplate(\r\n        ToggleRangeTemplate(\r\n            \"slider_template\",\r\n            controlButton,\r\n            RangeTemplate(\"range\", 0f, 10f, currentValue, 1f, null)\r\n        )\r\n    )\r\n    updatePublisher.onNext(sliderControl.build())\r\n}\r\n```\r\n\r\n\r\nã‚ã¨`DeviceType`ãŒã„ã£ã±ã„ã‚ã‚‹ã®ã§å…¨ç¨®é¡ã‚¢ã‚¤ã‚³ãƒ³ã¨è‰²ã‚’è¦‹ã¦ã¿ãŸã„ã€‚ã‚„ã£ã¦ã¿ã‚‹ã‹ã€‚\r\n\r\nã‚„ã‚Šã¾ã—ãŸâ†’ https:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlAllDeviceTypeSample\r\n\r\n\r\nDynamic Intent Filterã‚‚ã‚„ã‚ŠãŸã„",bodyHtml:"\u003Cp\u003EAndroid 11 Beta ããŸããŠãŠãŠãŠãŠãŠãŠãŠãŠ\u003Cbr\u003E\nğŸ¥³â†ã“ã‚Œã™ã\u003C\u002Fp\u003E\n\u003Ch1\u003Eè¿½è¨˜ï¼š2020\u002F06\u002F13\u003C\u002Fh1\u003E\n\u003Cp\u003EGoogle PayãŒä½¿ãˆãªã„ã¨è¨€ã„ã¾ã—ãŸã€‚ãŒã€Suicaã§é›»è»Šã«ä¹—ã‚ŒãŸã®ã§å¤šåˆ†\u003Cstrong\u003EãŠï½»ï½²ï¾Œï½¹ï½°ï¾€ï½²\u003C\u002Fstrong\u003Eã‚¢ãƒ—ãƒªã§ã¯å¯¾å¿œã—ã¦ã„ãªã„\u003Cstrong\u003ENFC Pay\u003C\u002Fstrong\u003Eã‚ãŸã‚ŠãŒä½¿ãˆãªã„ã‚“ã ã¨æ€ã„ã¾ã™ã€‚\u003Cbr\u003E\nFelicaä½¿ã†ç³»ã¯å¤šåˆ†è¡Œã‘ã‚‹ã‚“ã˜ã‚ƒãªã„ã§ã™ã‹ã­ï¼Ÿ\u003C\u002Fp\u003E\n\u003Cp\u003Eã‚ã¨ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼(RangeTemplate)å‹•ã„ãŸã®ã§ãã‚Œã‚‚\u003C\u002Fp\u003E\n\u003Ch1\u003Eæœ¬é¡Œ\u003C\u002Fh1\u003E\n\u003Cp\u003EAndroid 11 Beta 1 æ¥ã¾ã—ãŸã€‚\u003Cbr\u003E\nã‚ãŸã—çš„ã«æ¥½ã—ã¿ã«ã—ã¦ã‚‹æ©Ÿèƒ½ã¯\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EDevice Control API (æ­£å¼åç§°ã—ã‚‰ã‚“)\n\u003Cul\u003E\n\u003Cli\u003Eè¨¼æ˜ã®ON\u002FOFFã¨ã‹æ˜ã‚‹ã•ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ãªã©\u003C\u002Fli\u003E\n\u003Cli\u003EQuick Settings ã®ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ç‰ˆ\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003Eã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãªã‚“ã¦é‡‘ã‹ã‹ã‚‹ã‹ã‚‰ã‚„ã‚‰ãªã„ã¨æ€ã†ï¼ˆã‚ˆã£ã¦ä½¿ã‚ãªã„ï¼‰\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EDynamic Intent Filter\u003C\u002Fli\u003E\n\u003Cli\u003EWi-FiçµŒç”±ã®ADB\n\u003Cul\u003E\n\u003Cli\u003Eã‚«ã‚¹ROMã«ã¯å‰ã‹ã‚‰ã‚ã‚‹ã£ã¦ï¼Ÿ\u003C\u002Fli\u003E\n\u003Cli\u003Eå…¬å¼ã§å¯¾å¿œãªã‚“ã§ã™ã‚ˆï¼ï¼ï¼\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBubble\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003Eä»–ã®ã‚¢ãƒ—ãƒªã«é‡ã­ã¦è¡¨ç¤º\u003C\u002Fstrong\u003EãŒå¹´ã€…å³ã—ããªã£ã¦ã‚‹ã®ã§ï¼ˆæœ€è¿‘ã€è¨­å®šã‚¢ãƒ—ãƒªã®ä¸Šã«è¡¨ç¤ºã§ããªããªã£ãŸï¼‰ä»£æ›¿ã€‚\u003C\u002Fli\u003E\n\u003Cli\u003Eãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å†ç”Ÿã®ä»£æ›¿ã«ã¯ãªã‚‰ãªãã†ã€‚ã‚ãã¾ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¢ãƒ—ãƒªå‘ã‘ãªã®ã‹ãªã€‚\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2\u003EAndroid 11 Betaå…¥ã‚Œã‚ˆã†ã¨ã—ã¦ã„ã‚‹å„ä½\u003C\u002Fh2\u003E\n\u003Cp\u003EGoogle Pay ä½¿ãˆãªããªã‚‹ã‚‰ã—ã„ã‚ˆã€‚DP4ã®æ®µéšã§ã¯ä½¿ãˆãŸã‚“ã ã‘ã©ã¾ãŸä½¿ãˆãªããªã£ãŸã€‚\u003Cbr\u003E\n\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002Fr914HON.png\" alt=\"Imgur\"\u003E\u003Cbr\u003E\nSuicaä½¿ãˆã‚‹ã‚“ã‹ãªï¼Ÿ\u003C\u002Fp\u003E\n\u003Ch1\u003EDevice Control API ã‚’è©¦ã™\u003C\u002Fh1\u003E\n\u003Cp\u003E\u003Cstrong\u003Eã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ãªã‚“ã¦ã™ã‚‹äºˆå®šãªã‘ã©\u003C\u002Fstrong\u003Eã›ã£ã‹ãBetaç‰ˆã®ç™»å ´ã¨ä¸€ç·’ã«APIãŒæ–‡æ›¸åŒ–ã•ã‚Œã¦ã‚‹ã®ã§è©¦ã—ã«è¿½åŠ ã—ã¦ã¿ã‚‹ã€‚\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fdeveloper.android.com\u002Fpreview\u002Ffeatures\u002Fdevice-control\"\u003Eãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch1\u003Eç’°å¢ƒ\u003C\u002Fh1\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003Eãªã¾ãˆ\u003C\u002Fth\u003E\n\u003Cth\u003Eã‚ãŸã„\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eè¨€èª\u003C\u002Ftd\u003E\n\u003Ctd\u003EKotlin\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EAndroid\u003C\u002Ftd\u003E\n\u003Ctd\u003E11 Beta 1\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Eç«¯æœ«\u003C\u002Ftd\u003E\n\u003Ctd\u003EPixel 3 XL\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Ch2\u003EAndroid R Betaã®ç’°å¢ƒã‚’æƒãˆã¾ã™ã€‚\u003C\u002Fh2\u003E\n\u003Cp\u003ESDK Manageré–‹ã„ã¦ã€SDK Platformsã‚¿ãƒ–ã‚’æŠ¼ã—ã¦ã€\u003Cstrong\u003EAndroid 10.0+(R)\u003Cstrong\u003Eã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦\u003C\u002Fstrong\u003EApply\u003C\u002Fstrong\u003EæŠ¼ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\n\u003Ch1\u003Ebuild.gradle\u003C\u002Fh1\u003E\n\u003Ch2\u003Eãƒãƒ¼ã‚¸ãƒ§ãƒ³\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003Eandroid {\n    compileSdkVersion \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E\n    buildToolsVersion \u003Cspan class=\"hljs-string\"\u003E\"29.0.3\"\u003C\u002Fspan\u003E\n\n    defaultConfig {\n        applicationId \u003Cspan class=\"hljs-string\"\u003E\"io.github.takusan23.devicecontrolstest\"\u003C\u002Fspan\u003E\n        minSdkVersion \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E\n        targetSdkVersion \u003Cspan class=\"hljs-number\"\u003E30\u003C\u002Fspan\u003E\n        versionCode \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E\n        versionName \u003Cspan class=\"hljs-string\"\u003E\"1.0\"\u003C\u002Fspan\u003E\n        testInstrumentationRunner \u003Cspan class=\"hljs-string\"\u003E\"androidx.test.runner.AndroidJUnitRunner\"\u003C\u002Fspan\u003E\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled \u003Cspan class=\"hljs-keyword\"\u003Efalse\u003C\u002Fspan\u003E\n            proguardFiles getDefaultProguardFile(\u003Cspan class=\"hljs-string\"\u003E'proguard-android-optimize.txt'\u003C\u002Fspan\u003E), \u003Cspan class=\"hljs-string\"\u003E'proguard-rules.pro'\u003C\u002Fspan\u003E\n        }\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Ccode\u003EcompileSdkVersion 30\u003C\u002Fcode\u003Eã¨\u003Ccode\u003EtargetSdkVersion 30\u003C\u002Fcode\u003Eã«ãªã£ã¦ã‚Œã°ã„ã„ã¨æ€ã„ã¾ã™ã€‚å¤šåˆ†\u003C\u002Fp\u003E\n\u003Ch2\u003Eãƒ©ã‚¤ãƒ–ãƒ©ãƒªã„ã‚Œã‚‹\u003C\u002Fh2\u003E\n\u003Cp\u003Eãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒRxJavaå…¥ã‚Œã¦ã‚‹ã“ã¨ã‚’å‰æã«ã—ã¦ã„ã‚‹ã®ã§ç§ã‚‚å…¥ã‚Œã¾ã™ã€‚\u003Cbr\u003E\nRxJavaãªã‚“ã¦ä½¿ã£ãŸã“ã¨ãªã„ã‚“ã ã‘ã©ã­ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Edependencies\u003C\u002Fspan\u003E {\n    implementation \u003Cspan class=\"hljs-string\"\u003E'org.reactivestreams:reactive-streams:1.0.3'\u003C\u002Fspan\u003E\n    implementation \u003Cspan class=\"hljs-string\"\u003E'io.reactivex.rxjava2:rxjava:2.2.0'\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch1\u003EAndroidManifestæ›¸ã\u003C\u002Fh1\u003E\n\u003Cp\u003EãŠã¾ã˜ãªã„ã§ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eservice\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eandroid:name\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\".DeviceControlsService\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eandroid:label\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"@string\u002Fapp_name\"\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eandroid:permission\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"android.permission.BIND_CONTROLS\"\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eintent-filter\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eaction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eandroid:name\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E\"android.service.controls.ControlsProviderService\"\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eintent-filter\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eservice\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch1\u003EDeviceControlsService ã£ã¦ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ä½œæˆ\u003C\u002Fh1\u003E\n\u003Cp\u003E\u003Ccode\u003EDeviceControlsService.kt\u003C\u002Fcode\u003Eã‚’ä½œæˆã—ã¾ã™ã€‚\u003Cbr\u003E\nä½œæˆã—ãŸã‚‰ã€\u003Ccode\u003EControlsProviderService()\u003C\u002Fcode\u003Eã‚’ç¶™æ‰¿ã—ã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EDeviceControlsService\u003C\u002Fspan\u003E : \u003Cspan class=\"hljs-type\"\u003EControlsProviderService\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E() {\n    \u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EcreatePublisherForAllAvailable\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E: Flow.Publisher&lt;Control&gt; {\n\n    }\n\n    \u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EperformControlAction\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(p0: \u003Cspan class=\"hljs-type\"\u003EString\u003C\u002Fspan\u003E, p1: \u003Cspan class=\"hljs-type\"\u003EControlAction\u003C\u002Fspan\u003E, p2: \u003Cspan class=\"hljs-type\"\u003EConsumer\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-type\"\u003EInt\u003C\u002Fspan\u003E&gt;)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n\n    }\n\n    \u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EcreatePublisherFor\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(p0: \u003Cspan class=\"hljs-type\"\u003EMutableList\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-type\"\u003EString\u003C\u002Fspan\u003E&gt;)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E: Flow.Publisher&lt;Control&gt; {\n\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eã§ã‚‚ã“ã®ã¾ã¾ã ã¨è¿”ã‚Šå€¤ãªã«ã‚‚ãªã„ã®ã§IDEãŒèµ¤ã„ãªã¿ãªã¿å‡ºã™ã®ã§ä»Šã‹ã‚‰æ›¸ã„ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\n\u003Ch2\u003Eåˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä¸€è¦§ã‚’ç”¨æ„ã™ã‚‹\u003C\u002Fh2\u003E\n\u003Cp\u003Eã“ã‚Œã‹ã‚‰è¿½åŠ å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚\u003Cbr\u003E\nã“ã“ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã¶ã‚ã‘ã§ã™ã­ã€‚\u003Cbr\u003E\n\u003Ccode\u003EcreatePublisherForAllAvailable()\u003C\u002Fcode\u003Eã«æ›¸ã„ã¦ã„ãã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F è¿½åŠ ã™ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã®ID\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E TOGGLE_BUTTON_ID = \u003Cspan class=\"hljs-string\"\u003E\"toggle_button_id\"\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E\u002F**\n * è¿½åŠ å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹ã€‚\n * *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EcreatePublisherForAllAvailable\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E()\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E: Flow.Publisher&lt;Control&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹Activity\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E intent = Intent(baseContext, MainActivity::\u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title\"\u003Ejava\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E pendingIntent =\n        PendingIntent.getActivity(baseContext, \u003Cspan class=\"hljs-number\"\u003E10\u003C\u002Fspan\u003E, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã¾ã¨ã‚ã¦ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã®ã§é…åˆ—ã«\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E controlList = mutableListOf&lt;Control&gt;()\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«ã€‚\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E toggleControl = Control.StatelessBuilder(TOGGLE_BUTTON_ID, pendingIntent)\n        .setTitle(\u003Cspan class=\"hljs-string\"\u003E\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ãŸã„ã¨ã‚‹\u003C\u002Fspan\u003E\n        .setSubtitle(\u003Cspan class=\"hljs-string\"\u003E\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\u003C\u002Fspan\u003E\n        .setDeviceType(DeviceTypes.TYPE_LIGHT) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚ã„ã“ã‚“ã¨ã„ã‚ã®è¨­å®šã€‚\u003C\u002Fspan\u003E\n        .build()\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F é…åˆ—ã«è¿½åŠ \u003C\u002Fspan\u003E\n    controlList.add(toggleControl)\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Reactive Streamsã®çŸ¥è­˜ãŒå¿…è¦ãªæ¨¡æ§˜ã€‚ç§ã«ã¯ãªã„ã®ã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ”ãƒšã™ã‚‹ã€‚\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E FlowAdapters.toFlowPublisher(Flowable.fromIterable(controlList))\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eã‚³ãƒ¡ãƒ³ãƒˆæ–‡ã¯å„è‡ªæ¶ˆã—ã¦ã­ã€‚\u003C\u002Fp\u003E\n\u003Ch3\u003Eæ³¨æ„\u003C\u002Fh3\u003E\n\u003Cp\u003Eã“ã“ã§ä½¿ã†\u003Ccode\u003EControl\u003C\u002Fcode\u003Eã¯\u003Ccode\u003EControl.StatelessBuilder\u003C\u002Fcode\u003Eã®æ–¹ã§ã™ã€‚\u003Cbr\u003E\nã“ã‚Œã¯ã¾ã çŠ¶æ…‹ãŒï¼ˆã‚¹ã‚¤ãƒƒãƒãŒONã¨ã‹OFFã¨ã‹ã£ã¦è©±ï¼‰ãŒåˆ†ã‹ã‚‰ãªã„æ™‚ã«ä½¿ã†ã¨ã‹æ›¸ã„ã¦ã‚ã‚‹ã‘ã©å¤šåˆ†ã“ã®æ™‚ã«ä½¿ã„ã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Ch2\u003Eãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Ccode\u003Eåˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®ä¸€è¦§ã‚’ç”¨æ„ã™ã‚‹\u003C\u002Fcode\u003Eã§é¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ“ä½œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Elateinit\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Evar\u003C\u002Fspan\u003E updatePublisher: ReplayProcessor&lt;Control&gt;\n\u003Cspan class=\"hljs-comment\"\u003E\u002F**\n * ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã‚“ã ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’ç”¨æ„ã™ã‚‹\n * é›»æºãƒœã‚¿ãƒ³é•·æŠ¼ã—ã§ã‚ˆã°ã‚Œã‚‹\n * *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EcreatePublisherFor\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(p0: \u003Cspan class=\"hljs-type\"\u003EMutableList\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-type\"\u003EString\u003C\u002Fspan\u003E&gt;)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E: Flow.Publisher&lt;Control&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸã¨ãã«è¡¨ç¤ºã™ã‚‹Activity\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E intent = Intent(baseContext, MainActivity::\u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title\"\u003Ejava\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E pendingIntent =\n        PendingIntent.getActivity(baseContext, \u003Cspan class=\"hljs-number\"\u003E12\u003C\u002Fspan\u003E, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F çŸ¥è­˜ä¸è¶³ã§ã‚ã‹ã‚‰ã‚“\u003C\u002Fspan\u003E\n    updatePublisher = ReplayProcessor.create()\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E(p0.contains(TOGGLE_BUTTON_ID)) {\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ON\u002FOFF\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E toggle = ToggleTemplate(\u003Cspan class=\"hljs-string\"\u003E\"toggle_template\"\u003C\u002Fspan\u003E, ControlButton(\u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E\"OFFã§ã™ã­ãˆï¼\"\u003C\u002Fspan\u003E))\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã“ã“ã§ä½œã‚‹Controlã¯ StatefulBuilder ã‚’ä½¿ã†ã€‚\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E control = Control.StatefulBuilder(TOGGLE_BUTTON_ID, pendingIntent)\n            .setTitle(\u003Cspan class=\"hljs-string\"\u003E\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ãŸã„ã¨ã‚‹\u003C\u002Fspan\u003E\n            .setSubtitle(\u003Cspan class=\"hljs-string\"\u003E\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\u003C\u002Fspan\u003E\n            .setDeviceType(DeviceTypes.TYPE_LIGHT) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\u003C\u002Fspan\u003E\n            .setStatus(Control.STATUS_OK) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\u003C\u002Fspan\u003E\n            .setControlTemplate(toggle) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ä»Šå›ã¯ON\u002FOFFãƒœã‚¿ãƒ³\u003C\u002Fspan\u003E\n            .build()\n        updatePublisher.onNext(control)\n    }\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E FlowAdapters.toFlowPublisher(updatePublisher)\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eã“ã‚Œã§ã‚¨ãƒ©ãƒ¼ã¯ä¸€å¿œæ¶ˆãˆã‚‹ã®ã§ã€æ—©é€Ÿå®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\n\u003Ch1\u003Eã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼è¿½åŠ \u003C\u002Fh1\u003E\n\u003Cp\u003Eé›»æºãƒœã‚¿ãƒ³é•·æŠ¼ã—ã™ã‚‹ã¨ã€\u003Cstrong\u003Eãƒ‡ãƒã‚¤ã‚¹ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«\u003C\u002Fstrong\u003EãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€æŠ¼ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\u003Cbr\u003E\næŠ¼ã™ã¨ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€ä»Šä½œã£ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚\u003Cbr\u003E\nã™ã‚‹ã¨ã€ã•ã£ãä½œã£ãŸã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒç¾ã‚Œã‚‹ã®ã§ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ã€å³ä¸‹ã®ä¿å­˜ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã—ã‚‡ã†ã€‚\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002Fr2Wyog1.png\" alt=\"Imgur\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Eã™ã‚‹ã¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚\u003Cbr\u003E\nã§ã™ãŒã“ã®æ®µéšã§ã¯æŠ¼ã—ã¦ã‚‚ãªã«ã‚‚å¤‰ã‚ã‚‰ãªã„ã®ã§ã“ã‚Œã‹ã‚‰æŠ¼ã—ãŸæ™‚ã«\u003Ccode\u003EON\u002FOFF\u003C\u002Fcode\u003Eã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹å‡¦ç†ã‚’æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Cp\u003Eã¡ãªã¿ã«ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§Android 11å‹•ã‹ã™ã®ã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒé•·ã‹ã£ãŸã€‚\u003C\u002Fp\u003E\n\u003Ch1\u003Eã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æŠ¼ã—ãŸã¨ãã®å‡¦ç†\u003C\u002Fh1\u003E\n\u003Cp\u003EæŠ¼ã—ãŸæ™‚ã«ON\u002FOFFã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F**\n * ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã\n * *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eoverride\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efun\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EperformControlAction\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-params\"\u003E(p0: \u003Cspan class=\"hljs-type\"\u003EString\u003C\u002Fspan\u003E, p1: \u003Cspan class=\"hljs-type\"\u003EControlAction\u003C\u002Fspan\u003E, p2: \u003Cspan class=\"hljs-type\"\u003EConsumer\u003C\u002Fspan\u003E&lt;\u003Cspan class=\"hljs-type\"\u003EInt\u003C\u002Fspan\u003E&gt;)\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’é•·æŠ¼ã—ã—ãŸã¨ãã«è¡¨ç¤ºã™ã‚‹Activity\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E intent = Intent(baseContext, MainActivity::\u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E.\u003Cspan class=\"hljs-title\"\u003Ejava\u003C\u002Fspan\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E pendingIntent =\n        PendingIntent.getActivity(baseContext, \u003Cspan class=\"hljs-number\"\u003E11\u003C\u002Fspan\u003E, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚·ã‚¹ãƒ†ãƒ ã«å‡¦ç†ä¸­ã¨ãŠã—ãˆã‚‹\u003C\u002Fspan\u003E\n    p2.accept(ControlAction.RESPONSE_OK)\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼åˆ†å²\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Ewhen\u003C\u002Fspan\u003E (p0) {\n        TOGGLE_BUTTON_ID -&gt; {\n            \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ON\u002FOFFåˆ‡ã‚Šæ›¿ãˆ\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ToggleTemplate ã¯ BooleanAction\u003C\u002Fspan\u003E\n            \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (p1 \u003Cspan class=\"hljs-keyword\"\u003Eis\u003C\u002Fspan\u003E BooleanAction) {\n                \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ONã‹ã©ã†ã‹\u003C\u002Fspan\u003E\n                \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E isOn = p1.newState\n                \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E message = \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (isOn) \u003Cspan class=\"hljs-string\"\u003E\"ONã§ã™\"\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Eelse\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\"OFFã§ã™\"\u003C\u002Fspan\u003E\n                \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E toggle = ToggleTemplate(\u003Cspan class=\"hljs-string\"\u003E\"toggle_template\"\u003C\u002Fspan\u003E, ControlButton(isOn, message))\n                \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Controlæ›´æ–°\u003C\u002Fspan\u003E\n                \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E control = Control.StatefulBuilder(TOGGLE_BUTTON_ID, pendingIntent)\n                    .setTitle(\u003Cspan class=\"hljs-string\"\u003E\"ON\u002FOFFã‚µãƒ³ãƒ—ãƒ«\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ãŸã„ã¨ã‚‹\u003C\u002Fspan\u003E\n                    .setSubtitle(\u003Cspan class=\"hljs-string\"\u003E\"ãŠã™ã¨ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\u003C\u002Fspan\u003E\n                    .setDeviceType(DeviceTypes.TYPE_LIGHT) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\u003C\u002Fspan\u003E\n                    .setStatus(Control.STATUS_OK) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\u003C\u002Fspan\u003E\n                    .setControlTemplate(toggle) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ä»Šå›ã¯ON\u002FOFFãƒœã‚¿ãƒ³\u003C\u002Fspan\u003E\n                    .setStatusText(message)\n                    .build()\n                updatePublisher.onNext(control)\n            }\n        }\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eã“ã‚Œã§æŠ¼ã—ãŸæ™‚ã«ON\u002FOFFãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚\u003Cbr\u003E\n\u003Ccode\u003EDeviceType#TYPE_LIGHT\u003C\u002Fcode\u003Eè¦‹ãŸç›®ã„ã„æ„Ÿã˜ã€‚\u003Cbr\u003E\nã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ã‚„ã£ã¦ã¿ãŸã„ï¼ˆé‡‘ãªã„ã‘ã©ï¼‰\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002F2TNFYZz.png\" alt=\"Imgur\"\u003E\u003C\u002Fp\u003E\n\u003Ch1\u003EãŠã‚ã‚Šã«\u003C\u002Fh1\u003E\n\u003Cp\u003Eã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlsTest\"\u003Ehttps:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlsTest\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cs\u003Eãã‚Œã¨\u003Cstrong\u003Eæœ¬å½“\u003C\u002Fstrong\u003Eã¯ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆå€¤ã‚’èª¿æ•´ã§ãã‚‹\u003Ccode\u003ERangeTemplate\u003C\u002Fcode\u003Eã¦ã‚„ã¤ï¼‰ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒã‚ã£ãŸã‚“ã§ã™ã‘ã©ã€ç§ã®ç’°å¢ƒã§ã¯ã†ã¾ãå‹•ãã¾ã›ã‚“ã§ã—ãŸã€‚Betaç‰ˆã ã‹ã‚‰ãªã®ã‹ãã‚‚ãã‚‚ç§ãŒé–“é•ã£ã¦ã‚‹ã®ã‹ï¼Ÿ\u003C\u002Fs\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003ERangeTemplate\u003C\u002Fstrong\u003Eå‹•ãã¾ã—ãŸã€‚\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002FKieronQuinn\u002Fc9950f3ee09e11f305ce16e7f48f03b8\"\u003Eå‚è€ƒã«ã—ã¾ã—ãŸ\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E sliderControl = Control.StatefulBuilder(SLIDER_BUTTON_ID, pendingIntent)\n    .setTitle(\u003Cspan class=\"hljs-string\"\u003E\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒ«\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ãŸã„ã¨ã‚‹\u003C\u002Fspan\u003E\n    .setSubtitle(\u003Cspan class=\"hljs-string\"\u003E\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã™ã€‚\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\u003C\u002Fspan\u003E\n    .setDeviceType(DeviceTypes.TYPE_LIGHT) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\u003C\u002Fspan\u003E\n    .setControlId(SLIDER_BUTTON_ID)\n    .setStatus(Control.STATUS_OK) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\u003C\u002Fspan\u003E\nsliderControl.setControlTemplate(\n    ToggleRangeTemplate(\n        \u003Cspan class=\"hljs-string\"\u003E\"slider_template\"\u003C\u002Fspan\u003E,\n        ControlButton(\u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E\"slider_button\"\u003C\u002Fspan\u003E),\n        RangeTemplate(\u003Cspan class=\"hljs-string\"\u003E\"range\"\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E10f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E1f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Enull\u003C\u002Fspan\u003E)\n    )\n)\nupdatePublisher.onNext(sliderControl.build())\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EperformControlAction()ã¯ã“ã†ã§ã™ã€‚\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F RangeTemplate ã¯ FloatAction\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (p1 \u003Cspan class=\"hljs-keyword\"\u003Eis\u003C\u002Fspan\u003E FloatAction) {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ç¾åœ¨ã®å€¤\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E currentValue = p1.newValue\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E sliderControl = Control.StatefulBuilder(SLIDER_BUTTON_ID, pendingIntent)\n        .setTitle(\u003Cspan class=\"hljs-string\"\u003E\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã‚µãƒ³ãƒ—ãƒ«\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ãŸã„ã¨ã‚‹\u003C\u002Fspan\u003E\n        .setSubtitle(\u003Cspan class=\"hljs-string\"\u003E\"ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã™ã€‚\"\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«\u003C\u002Fspan\u003E\n        .setDeviceType(DeviceTypes.TYPE_LIGHT) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F å¤šåˆ†ã‚¢ã‚¤ã‚³ãƒ³ã«ä½¿ã‚ã‚Œã¦ã‚‹ï¼Ÿ\u003C\u002Fspan\u003E\n        .setControlId(SLIDER_BUTTON_ID)\n        .setStatus(Control.STATUS_OK) \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ç¾åœ¨ã®çŠ¶æ…‹\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Eval\u003C\u002Fspan\u003E controlButton = ControlButton(\u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E\"slider_button\"\u003C\u002Fspan\u003E)\n    sliderControl.setControlTemplate(\n        ToggleRangeTemplate(\n            \u003Cspan class=\"hljs-string\"\u003E\"slider_template\"\u003C\u002Fspan\u003E,\n            controlButton,\n            RangeTemplate(\u003Cspan class=\"hljs-string\"\u003E\"range\"\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E0f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-number\"\u003E10f\u003C\u002Fspan\u003E, currentValue, \u003Cspan class=\"hljs-number\"\u003E1f\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-literal\"\u003Enull\u003C\u002Fspan\u003E)\n        )\n    )\n    updatePublisher.onNext(sliderControl.build())\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eã‚ã¨\u003Ccode\u003EDeviceType\u003C\u002Fcode\u003EãŒã„ã£ã±ã„ã‚ã‚‹ã®ã§å…¨ç¨®é¡ã‚¢ã‚¤ã‚³ãƒ³ã¨è‰²ã‚’è¦‹ã¦ã¿ãŸã„ã€‚ã‚„ã£ã¦ã¿ã‚‹ã‹ã€‚\u003C\u002Fp\u003E\n\u003Cp\u003Eã‚„ã‚Šã¾ã—ãŸâ†’ \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlAllDeviceTypeSample\"\u003Ehttps:\u002F\u002Fgithub.com\u002Ftakusan23\u002FDeviceControlAllDeviceTypeSample\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EDynamic Intent Filterã‚‚ã‚„ã‚ŠãŸã„\u003C\u002Fp\u003E\n",dir:"contents\u002Fposts\u002Fjson",base:"android11_devicecontrol.json",ext:".json",sourceBase:"android11_devicecontrol.md",sourceExt:".md",params:{slug:"android11_devicecontrol"}}],fetch:[],mutations:void 0});